# 💻 이커머스

이커머스 + 중고거래 가능한 API

# ⚙ 개발 환경

- Project : `Gradle - Groovy`
- Language : `Java`
- Spring Boot : `3.2.4`
- Packaging : `Jar`
- Java : `17`
-
Dependencies : `Lombok`, `Spring Web`, `Spring Data Jpa`, `Querydsl`, `Spring Security`, `Spring Validation`, `Apache Kafka`, `Swagger`, `Spring Schedule`, `Elasticsearch`,
`oauth2`
- IDEA : `IntelliJ`
- DB :
    - Local:`h2`
    - Dev: `MySQL`
    - Cache: `Redis`

## 👀 주요 기능

- 회원가입 기능
    - 사용자는 일반 유저 또는 판매자로 회원가입 할 수 있다.
    - 회원가입 시 필수 정보는 이메일과 비밀번호이며, 이메일은 고유해야 한다.
    - 네이버, 구글 등 소셜 계정으로도 회원가입 가능하다.

- 로그인 및 로그아웃 기능
    - 사용자는 로그인할 수 있으며, 로그인 시 회원가입 때 사용한 아이디와 비밀번호가 일치해야 한다.
    - 소셜 로그인이 가능하다.
    - 로그아웃 기능을 통해 사용자는 언제든지 세션을 종료할 수 있다.

- 결제 시스템
    - 유저는 결제 수단에 카드 정보를 입력해야 결제를 할 수 있다.
    - 결제 수간 등록전에는 상품을 구매 할 수 없다.
    - 결제 수단이 등록하면 원클릭 결제로 결제가 가능하다.
    - 포인트 사용은 결제 전에 유저가 소유하는 포인트를 적용하여 결제가 가능하다.
    - 환불 시 판매자가 승인후 되며, 카드 결제와 포인트 사용 따로 환불이 된다.

- 맴버십
    - 맴버십 등급은 Silver, Gold, Platinum, Diamond이다.
    - 모든 신규 회원은 자동으로 Silver 등급을 받는다.
    - 유저 페이지에 들어가면 상품 등급을 볼 수 있고, 자세히 보기 누르면 구독 기간과 결제 내역, 해당 등급에 관한 정보를 볼 수 있다.
    - 유료 맴버십은 구독 기간에 따라 등급이 상승하며, 최초 Gold, 1년 후 Platinum, 2년 후 Diamond 등급이 부여된다.
    - 포인트 적립률은 맴버십 등급에 따라 다르며, Silver는 1%, Gold는 4%, Platinum은 8%, Diamond는 10%이다.
    - 일반 맴버십 회원은 배송비가 부과되며, 유료 맴버십 회원은 배송비가 면제된다.
    - 유료 맴버십 회원 중 구독 유지 기간이 긴 회원을 한달 주기로 랜덤으로 100명에게 1%~10% 무작위 상품 할인율 적용한다(상품 마다 기간이 다름)


- 상품 등록
    - 판매자는 상품을 등록할 수 있으며, 필요한 정보는 상품명, 가격, 수량, 설명이다. 상품 이미지는 추후 추가 예정.

- 상품 조회
    - 모든 사용자는 상품을 조회할 수 있다.

- 상품 구매
    - 상품 구매는 로그인한 회원만 가능하며, 결제 수단은 카드이다.

- 상품 검색 기능
    - 상품 검색은 이름과 가격을 조합하여 수행할 수 있다.

- 구매한 상품 목록 조회 기능
    - 사용자는 자신이 구매한 상품을 기간별로 조회할 수 있다.
    - 일주일/ 한달/ 6개월/ 1년 단위로 조회가 가능하다.

- 포인트 사용 기능
    - 사용자는 포인트를 상품 구매 시 사용할 수 있으며, 1포인트당 1원이다.

- 장바구니 기능
    - 사용자는 상품을 담을 수 있다.
    - 담은 상품 중 품절 상품이면 구매 할 수 없다.
    - 장바구니 담은 상품 중 선택한 상품을 구매 할 수 있으며, 전체 체크도 가능하다.

- 상품 찜등록 기능(중고거래x)
    - 회원 상품 페이지에서 찜등록을 할 수 있다.
    - 찜등록 조회해서 구매 할 수 있다.

- 중고거래 기능
    - 중고거래는 판매자가 아닌 일반회원이 가능하며, 중고거래 페이지에서 자유롭게 상풍등록,판매, 거래가 가능하다.
    - 상품 등록시 입력하는 것은 상품이름, 상품가격, 상품 설명이다. 이미지는 나중에 추가할 예정이다.
    - 결제는 카드이다.

- 리뷰 및 평가 기능(일반 거래, 중고 거래)
    - 구매자는 상품 리뷰(텍스트) 및 평가(별 최소 0개에서 최대 5게)를 할 수 있다.

- 선착순 할인 쿠폰기능
    - 할인 쿠폰 이벤트시 선착순으로 쿠폰을 받을 수 있으며, 상품 구매시 사용 할 수 있다.
    - 할인 쿠폰은 수량이 100개로 제한되어 있으며, 101개이상으로 발급이 안된다.

## 회원 (공통)

- [x] 회원가입(판매자/ 일반유저)
- [x] 로그인/ 로그아웃
- [ ] 소셜 로그인
- [ ] 포인트 조회
- [ ] 선착순 쿠폰

## 관리자

- [ ] 쿠폰발행(쿠폰 수량, 할인율, 유효기간)

## 일반 회원

- [ ] 상품 구매
- [x] 로그인/ 로그아웃
- [x] 주소 추가/ 조회/ 삭제
- [x] 결제 수단 추가(카드)
- [ ] 구매한 상품 목록 조회
- [ ] 상품 검색(이름, 가격)
- [ ] 리뷰 및 평가 시스템
- [ ] 찜하기 기능
- [ ] 포인트 조회
- [ ] 상품 구매 시 포인트 적립 및 사용
- [ ] 유료 맴버십 가입
- [ ] 맴버십 등급에 따라 포인트 적립
- [ ] 우수 맴버십 회원 일부(약 100명) 특정 상품 할인 적용(최소 1% ~ 최대 10%)
- [ ] 배송

## 판매자

- [ ] 상품 등록(이름, 가격, 제품 설명) 및 수정
- [ ] 자신이 등록한 상품 관리
- [ ] 판매 내역 조회
- [ ] 환불 요청시 환불 승인 및 거절
- [ ] 환불 거절 시 거절 사유를 적을것

## 추가 해야 할 기능

- [ ] 상품 등록시 이미지 s3이용
- [ ] 포인트의 사용 내력 transaction table 이용

## ERD

<img width="828" height="459" alt="스크린샷 2024-04-25 오후 2 29 41" src="https://github.com/namomi/e-commerce/assets/65004844/21a828f5-c6e6-4b26-bda9-f37a210f5198">

